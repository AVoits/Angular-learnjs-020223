<!-- <ng-template
	let-productFtomImplicit
	let-productFtomTemplate="ngIf"
	[ngIf]="getProducts()"
	[ngIfElse]="loaderTemplateRef"
> -->
<div
	*ngIf="
		getProducts() as productFtomTemplate;
		else loaderTemplateRef;
		let productFtomImplicit
	"
	class="scroll-container"
>
	<ng-container
		*appPagination="
			let productsGroup of productFtomTemplate;
			elementsSize: 4;
			let pageIndexes = pageIndexes;
			let activeIndex = index;
			let next = next;
			let back = back;
			let selectIndex = selectIndex
		"
	>
		<div class="cards-container">
			<app-card
				*ngFor="let product of productsGroup; trackBy: trackById"
				class="card"
				[product]="product"
			></app-card>
		</div>

		<div class="pagination-container">
			<button mat-icon-button (click)="back()">
				<mat-icon> chevron_left </mat-icon>
			</button>
			<div class="pagination__page-number-container">
				<button
					*ngFor="let index of pageIndexes"
					mat-icon-button
					class="pagination__page-number"
					[class.pagination__page-number_active]="
						activeIndex === index
					"
					(click)="selectIndex(index)"
				>
					{{ index + 1 }}
				</button>
			</div>
			<button mat-icon-button (click)="next()">
				<mat-icon> chevron_right </mat-icon>
			</button>
		</div>
	</ng-container>
	<!-- <div
		*ngIf="getProducts() else loaderTemplateRef; let productFtomTemplate = ngIf; let productFtomImplicit"
		appScrollWithLoading
		class="scroll-container"
		(loadData)="onLoadData($event)"
	> -->
	<!-- <ng-template ngFor [ngForOf]="productFtomTemplate" [ngForTrackBy]="trackById" let-product let-for="ngForOf"> -->

	<!-- </ng-template> -->

	<!-- <app-card
			#card
			class="card"
			[product]="productFtomTemplate[1]"
		></app-card>
		<app-card
			#card
			class="card"
			[product]="productFtomTemplate[2]"
		></app-card>
		<app-card
			#card
			class="card"
			[product]="productFtomTemplate[3]"
		></app-card>
		<app-card
			#card
			class="card"
			[product]="productFtomTemplate[4]"
		></app-card> -->
</div>
<!-- </ng-template> -->

<ng-template #loaderTemplateRef>
	<mat-spinner class="loader"></mat-spinner>
</ng-template>
